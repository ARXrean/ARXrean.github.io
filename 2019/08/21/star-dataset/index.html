<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang>
<head><meta name="generator" content="Hexo 3.9.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="try,">










<meta name="description" content="There have been several datasets for star face recognition such as IMDB and MS Celeb.  However,  the stars in it can be a little out of date. Besides, each star has only few samples which may not cove">
<meta name="keywords" content="try">
<meta property="og:type" content="article">
<meta property="og:title" content="star-dataset">
<meta property="og:url" content="https://arxrean.github.io/2019/08/21/star-dataset/index.html">
<meta property="og:site_name" content="AIEEEr">
<meta property="og:description" content="There have been several datasets for star face recognition such as IMDB and MS Celeb.  However,  the stars in it can be a little out of date. Besides, each star has only few samples which may not cove">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://res.cloudinary.com/dhortnuos/image/upload/v1566355729/blog/star-dataset/1_ggikv6.png">
<meta property="og:image" content="https://res.cloudinary.com/dhortnuos/image/upload/v1566440487/blog/star-dataset/original_dataset_hist_txhfim.png">
<meta property="og:image" content="https://res.cloudinary.com/dhortnuos/image/upload/v1566457293/blog/star-dataset/face_dataset_hist_mollje.png">
<meta property="og:updated_time" content="2019-08-22T07:50:29.818Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="star-dataset">
<meta name="twitter:description" content="There have been several datasets for star face recognition such as IMDB and MS Celeb.  However,  the stars in it can be a little out of date. Besides, each star has only few samples which may not cove">
<meta name="twitter:image" content="https://res.cloudinary.com/dhortnuos/image/upload/v1566355729/blog/star-dataset/1_ggikv6.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://arxrean.github.io/2019/08/21/star-dataset/">





  <title>star-dataset | AIEEEr</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">AIEEEr</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">something more</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://arxrean.github.io/2019/08/21/star-dataset/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ziyi Kou">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AIEEEr">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">star-dataset</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-08-21T02:43:35+00:00">
                2019-08-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>There have been several datasets for star face recognition such as IMDB and <a href="https://www.msceleb.org/" target="_blank" rel="noopener">MS Celeb</a>.  However,  the stars in it can be a little out of date. Besides, each star has only few samples which may not cover all living and movie styles. Therefore, I create a star dataset in which part of stars have dozens of images while the others have just one image for each.  Most stars are well known as least in 2019 year..I will record the process of creating it in the following. All codes are available in my Github.</p>
<a id="more"></a>
<h1 id="Data-Crawl"><a href="#Data-Crawl" class="headerlink" title="Data Crawl"></a>Data Crawl</h1><p>I firstly crawled star information and their images from <a href="http://www.happyjuzi.com/" target="_blank" rel="noopener">happyjuzi.com</a> website and many other small websites.</p>
<h2 id="Star-Info"><a href="#Star-Info" class="headerlink" title="Star Info"></a>Star Info</h2><p>I crawled each star based on their unique url id and obtained several properties that may help in the future model training, as denoted in the following table.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>the unique id for each star</td>
</tr>
<tr>
<td>name</td>
<td>the original name that may be Chinese</td>
</tr>
<tr>
<td>e_name</td>
<td>English name if they have</td>
</tr>
<tr>
<td>star_type</td>
<td>actor/(Internet) celebrity/others</td>
</tr>
<tr>
<td>star_other</td>
<td>other info like their sign</td>
</tr>
<tr>
<td>area</td>
<td>country they are from</td>
</tr>
<tr>
<td>desc</td>
<td>a few sentences to describe them</td>
</tr>
<tr>
<td>reels</td>
<td>their works</td>
</tr>
<tr>
<td>gender</td>
<td>1 for male while 0 for female</td>
</tr>
</tbody></table>
<h2 id="Star-Images"><a href="#Star-Images" class="headerlink" title="Star Images"></a>Star Images</h2><p>The images consists of two parts. The first part is obtained from image repository of each star while the second part is from their profile pictures, which is denoted in the following image.</p>
<p><img src="https://res.cloudinary.com/dhortnuos/image/upload/v1566355729/blog/star-dataset/1_ggikv6.png" alt="alt text" title="Figure_1"></p>
<p>The key images are much more likely to be true images for corresponding stars compared with other images, since many noisy or even unrelated images will be uploaded by users.  The following table illustrates basic info for my original dataset.</p>
<table>
<thead>
<tr>
<th>Star</th>
<th>Images</th>
<th>Key</th>
</tr>
</thead>
<tbody><tr>
<td>13715</td>
<td>224438</td>
<td>13322</td>
</tr>
</tbody></table>
<p>We can see most stars have their key images. The distribution of the number of images per each star is shown in the following figure.</p>
<p><img src="https://res.cloudinary.com/dhortnuos/image/upload/v1566440487/blog/star-dataset/original_dataset_hist_txhfim.png" alt="alt text" title="Figure_1"></p>
<h1 id="Data-Preprocess"><a href="#Data-Preprocess" class="headerlink" title="Data Preprocess"></a>Data Preprocess</h1><p>Since a large part of scrawled data are just unrelated images with targeted stars, we need to preprocess data in several steps.</p>
<h2 id="Remove-similar-Images"><a href="#Remove-similar-Images" class="headerlink" title="Remove similar Images"></a>Remove similar Images</h2><p>Different fans for one star may upload a same image. I use pHash to hash each image per star and compare each two image hashes, calculating their euclidean distance. If their similarity is higher than the predefined threshold, I will mark one of them as the duplicate and remove it.</p>
<h2 id="Remove-group-stars"><a href="#Remove-group-stars" class="headerlink" title="Remove group stars"></a>Remove group stars</h2><p>There are some groups which consists of several or many stars. But since each single star will be also recorded in many website, these group labels will influence the training. So I just remove these group stars. </p>
<p>I use pretrained MTCNN model to extract faces in Key Images. Since these images always only contain the single star face if the star is not a group. I set the threshold for MTCNN very high and remove the star if the model detect more than one face.</p>
<h2 id="Extract-Faces"><a href="#Extract-Faces" class="headerlink" title="Extract Faces"></a>Extract Faces</h2><p>I extract faces in each image, if there are more than two faces in one image, I just remove it. If there are two faces, I check it and choose the right one. The face is $112\times 112$  gray and aligned by landmarks.</p>
<h2 id="Remove-Similar-or-Unrelated-Faces"><a href="#Remove-Similar-or-Unrelated-Faces" class="headerlink" title="Remove Similar or Unrelated  Faces"></a>Remove Similar or Unrelated  Faces</h2><p>For each star, there may exist same face image or other faces which are not the targeted star.</p>
<p>I first use pretrained lightCNN to extract 256-d features for each face. Then I use both euclidean distance and cosine similarity to calculate the distance between two faces. If the value is higher than $thd1$ or lower than $thd2$, I remove one of the raw face image. Please note the dataset is very sensitive to $thd1$ and $thd2$. Therefore I need to make action only if there is a very high confidence.</p>
<p>Then I finetuned a gender classification model based on crawled data. The model check each raw face. If a face image is recognized as wrong gender with high score, I just remove it. </p>
<h2 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h2><p>The following table is the distribution of all stars.</p>
<table>
<thead>
<tr>
<th>Total Images</th>
<th>Total stars</th>
</tr>
</thead>
<tbody><tr>
<td>80062</td>
<td>9233</td>
</tr>
</tbody></table>
<p>And the number of images per star is in the following figure:</p>
<p><img src="https://res.cloudinary.com/dhortnuos/image/upload/v1566457293/blog/star-dataset/face_dataset_hist_mollje.png" alt="alt text" title="Figure_1"></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/try/" rel="tag"># try</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/08/12/summary-fsl/" rel="next" title="A Survey on Few-Shot Learning">
                <i class="fa fa-chevron-left"></i> A Survey on Few-Shot Learning
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="Ziyi Kou">
            
              <p class="site-author-name" itemprop="name">Ziyi Kou</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/arxrean" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="zkou2@ur.rochester.edu" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Data-Crawl"><span class="nav-number">1.</span> <span class="nav-text">Data Crawl</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Star-Info"><span class="nav-number">1.1.</span> <span class="nav-text">Star Info</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Star-Images"><span class="nav-number">1.2.</span> <span class="nav-text">Star Images</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Data-Preprocess"><span class="nav-number">2.</span> <span class="nav-text">Data Preprocess</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Remove-similar-Images"><span class="nav-number">2.1.</span> <span class="nav-text">Remove similar Images</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Remove-group-stars"><span class="nav-number">2.2.</span> <span class="nav-text">Remove group stars</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Extract-Faces"><span class="nav-number">2.3.</span> <span class="nav-text">Extract Faces</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Remove-Similar-or-Unrelated-Faces"><span class="nav-number">2.4.</span> <span class="nav-text">Remove Similar or Unrelated  Faces</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Result"><span class="nav-number">2.5.</span> <span class="nav-text">Result</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ziyi Kou</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  


  

  

</body>
</html>
